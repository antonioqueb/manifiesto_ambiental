<odoo>
    <template id="manifiesto_pdf">
      <t t-call="web.html_container">
        <t t-foreach="docs" t-as="doc">
          <t t-call="web.external_layout">
            <div class="page">
              <t t-foreach="['Original Generador', 'Copia Generador', 'Copia Transportista', 'Copia Destinatario']" t-as="copia">
                <h2>MANIFIESTO DE ENTREGA, TRANSPORTE Y RECEPCIÓN DE RESIDUOS PELIGROSOS</h2>
                <p><strong>Copia:</strong> <span t-esc="copia"/></p>
                <p><strong>Núm. de manifiesto:</strong> <span t-esc="doc.name"/></p>
                <p><strong>Generador:</strong> <span t-esc="doc.partner_id.name"/></p>
                <p><strong>Registro ambiental:</strong> <span t-esc="doc.registro_ambiental"/></p>
                <p><strong>Dirección:</strong> <span t-esc="doc.calle"/> - <span t-esc="doc.municipio"/> - <span t-esc="doc.estado"/> - <span t-esc="doc.codigo_postal"/></p>
  
                <!-- Residuos -->
                <h4>Residuos:</h4>
                <ul>
                  <t t-foreach="doc.residuos_ids" t-as="residuo">
                    <li><span t-esc="residuo.name"/></li>
                  </t>
                </ul>
  
                <p><strong>Instrucciones:</strong> <span t-esc="doc.instrucciones"/></p>
                <p><strong>Observaciones:</strong> <span t-esc="doc.observaciones"/></p>
  
                <!-- Firmas -->
                <div>
                  <h5>Firma del Generador</h5>
                  <p><strong>Nombre:</strong> <span t-esc="doc.responsable_nombre"/></p>
                  <p><strong>Fecha:</strong> <span t-esc="doc.fecha_generador"/></p>
                  <t t-if="doc.responsable_firma">
                    <img t-att-src="'data:image/png;base64,%s' % doc.responsable_firma" width="150"/>
                  </t>
                  <t t-else="">
                    <div style="width:150px; height:50px; border:1px solid #000;"><span style="visibility: hidden;">_</span></div>                  </t>
                </div>
  
                <div>
                  <h5>Firma del Transportista</h5>
                  <p><strong>Nombre:</strong> <span t-esc="doc.responsable_transporte_nombre"/></p>
                  <p><strong>Fecha:</strong> <span t-esc="doc.fecha_transporte"/></p>
                  <t t-if="doc.responsable_transporte_firma">
                    <img t-att-src="'data:image/png;base64,%s' % doc.responsable_transporte_firma" width="150"/>
                  </t>
                  <t t-else="">
                    <div style="width:150px; height:50px; border:1px solid #000;"><span style="visibility: hidden;">_</span></div>                  </t>
                </div>
  
                <div>
                  <h5>Firma del Destinatario</h5>
                  <p><strong>Nombre:</strong> <span t-esc="doc.responsable_recepcion_nombre"/></p>
                  <p><strong>Fecha:</strong> <span t-esc="doc.fecha_recepcion"/></p>
                  <t t-if="doc.responsable_recepcion_firma">
                    <img t-att-src="'data:image/png;base64,%s' % doc.responsable_recepcion_firma" width="150"/>
                  </t>
                  <t t-else="">
                    <div style="width:150px; height:50px; border:1px solid #000;"><span style="visibility: hidden;">_</span></div>                  </t>
                </div>
  
                <div style="page-break-after: always;"/>
              </t>
            </div>
          </t>
        </t>
      </t>
    </template>
  </odoo>
  